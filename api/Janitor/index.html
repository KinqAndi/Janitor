<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Janitor | Janitor</title><meta data-react-helmet="true" property="og:title" content="Janitor | Janitor"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="Janitor is a light-weight, flexible object for cleaning up connections, instances, or anything. This implementation covers all use cases,
as it doesn&#x27;t force you to rely on naive typechecking to guess how an instance should be cleaned up.
Instead, the developer may specify any behavior for any object."><meta data-react-helmet="true" property="og:description" content="Janitor is a light-weight, flexible object for cleaning up connections, instances, or anything. This implementation covers all use cases,
as it doesn&#x27;t force you to rely on naive typechecking to guess how an instance should be cleaned up.
Instead, the developer may specify any behavior for any object."><meta data-react-helmet="true" property="og:url" content="https://howmanysmall.github.io/Janitor/api/Janitor"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><link data-react-helmet="true" rel="canonical" href="https://howmanysmall.github.io/Janitor/api/Janitor"><link data-react-helmet="true" rel="alternate" href="https://howmanysmall.github.io/Janitor/api/Janitor" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://howmanysmall.github.io/Janitor/api/Janitor" hreflang="x-default"><link rel="stylesheet" href="/Janitor/assets/css/styles.29e98e1d.css">
<link rel="preload" href="/Janitor/assets/js/runtime~main.04ce190d.js" as="script">
<link rel="preload" href="/Janitor/assets/js/main.956e1b5a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Janitor/"><b class="navbar__title">Janitor</b></a><a class="navbar__item navbar__link" href="/Janitor/docs/intro">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Janitor/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/mhtGUS8" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/howmanysmall/Janitor" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Press S to Search..." aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docPageContainer_2Kz0"><div class="docPage_1bdk"><div class="docSidebarContainer_1ykS"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Janitor/api/Janitor">Janitor</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/Janitor/api/RbxScriptConnection">RbxScriptConnection</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div><main class="docMainContainer_28N5"><div class="container padding-vert--lg"><div class="row" style="flex-wrap:nowrap"><div class="col docItemCol_3WPG"><div class="docItemContainer_3XDu"><article><div class="member_qHIL markdown"><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3ryM"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><header><h1 class="docTitle_1ddc">Janitor</h1><div class="luaClassTags_2Zrs"></div><div>
<p>
  Janitor is a light-weight, flexible object for cleaning up connections, instances, or anything. This implementation covers all use cases,
  as it doesn't force you to rely on naive typechecking to guess how an instance should be cleaned up.
  Instead, the developer may specify any behavior for any object.
</p>
</div></header><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="functions"></a>Functions<a class="hash-link" href="#functions" title="Direct link to heading">#</a></h2><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="Is"></a><code style="text-decoration:none">Is</code><a class="hash-link" href="#Is" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L42"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor.</code><code class="green_3LnD">Is</code><code>(</code><div class="inset_2cJr"><div><code>Object:Â </code><code class="blue_2Afy">any</code><span class="inlineDescription_17uy">-- <span>
<p>The object you are checking.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">boolean</code><span class="inlineDescription_17uy">-- <span>
<p><code>true</code> iff <code>Object</code> is a Janitor.</p>
</span></span></div><div>
<p>Determines if the passed object is a Janitor. This checks the metatable directly.</p>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="new"></a><code style="text-decoration:none">new</code><a class="hash-link" href="#new" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L366"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor.</code><code class="green_3LnD">new</code><code>(</code><code>) â†’Â </code><code class="blue_2Afy">Janitor</code></div><div>
<p>Instantiates a new Janitor object.</p>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="Add"></a><code style="text-decoration:none">Add</code><a class="hash-link" href="#Add" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L79"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">Add</code><code>(</code><div class="inset_2cJr"><div><code>Object:Â </code><code class="blue_2Afy">T</code><code>,</code><span class="inlineDescription_17uy">-- <span>
<p>The object you want to clean up.</p>
</span></span></div><div><code>MethodName?:Â </code><code class="blue_2Afy">string</code><code class="op_1JtD">Â |Â </code><code class="blue_2Afy">true</code><code>,</code><span class="inlineDescription_17uy">-- <span>
<p>The name of the method that will be used to clean up. If not passed, it will first check if the object's type exists in TypeDefaults, and if that doesn't exist, it assumes <code>Destroy</code>.</p>
</span></span></div><div><code>Index?:Â </code><code class="blue_2Afy">any</code><span class="inlineDescription_17uy">-- <span>
<p>The index that can be used to clean up the object manually.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">T</code><span class="inlineDescription_17uy">-- <span>
<p>The object that was passed as the first argument.</p>
</span></span></div><div>
<p>
  Adds an <code>Object</code> to Janitor for later cleanup, where <code>MethodName</code> is the key of the method within <code>Object</code> which should be called at cleanup time.
  If the <code>MethodName</code> is <code>true</code> the <code>Object</code> itself will be called instead. If passed an index it will occupy a namespace which can be <code>Remove()</code>d or overwritten.
  Returns the <code>Object</code>.
</p>
<div class="admonition admonition-info alert alert--info">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16">
          <path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path>
        </svg></span>info</h5>
  </div>
  <div class="admonition-content">
    <p>
      Objects not given an explicit <code>MethodName</code> will be passed into the <code>typeof</code> function for a very naive typecheck.
      RBXConnections will be assigned to "Disconnect", functions will be assigned to <code>true</code>, and everything else will default to "Destroy".
      Not recommended, but hey, you do you.
    </p>
  </div>
</div>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> Obliterator <span class="token operator">=</span> Janitor<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">-- Queue the Part to be Destroyed at Cleanup time</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>workspace<span class="token punctuation">.</span>Part<span class="token punctuation">,</span> <span class="token string">"Destroy"</span><span class="token punctuation">)</span>

<span class="token comment">-- Queue function to be called with `true` MethodName</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>print<span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span>

<span class="token comment">-- This implementation allows you to specify behavior for any object</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>Tween<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> print<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Stop"</span><span class="token punctuation">)</span>

<span class="token comment">-- By passing an Index, the Object will occupy a namespace</span>
<span class="token comment">-- If "CurrentTween" already exists, it will call :Remove("CurrentTween") before writing</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>Tween<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> print<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Stop"</span><span class="token punctuation">,</span> <span class="token string">"CurrentTween"</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="AddPromise"></a><code style="text-decoration:none">AddPromise</code><a class="hash-link" href="#AddPromise" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L114"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">AddPromise</code><code>(</code><div class="inset_2cJr"><div><code>PromiseObject:Â </code><code class="blue_2Afy">Promise</code><span class="inlineDescription_17uy">-- <span>
<p>The promise you want to add to the Janitor.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">Promise</code></div><div>
<p>Adds a <a href="https://github.com/evaera/roblox-lua-promise" target="_blank">Promise</a> to the Janitor. If the Janitor is cleaned up and the Promise is not completed, the Promise will be cancelled.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> Obliterator <span class="token operator">=</span> Janitor<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Obliterator<span class="token punctuation">:</span><span class="token function">AddPromise</span><span class="token punctuation">(</span>Promise<span class="token punctuation">.</span><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">andThenCall</span><span class="token punctuation">(</span>print<span class="token punctuation">,</span> <span class="token string">"Finished!"</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">catch</span><span class="token punctuation">(</span>warn<span class="token punctuation">)</span>
task<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="Cleanup"></a><code style="text-decoration:none">Cleanup</code><a class="hash-link" href="#Cleanup" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L204"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">Cleanup</code><code>(</code><code>) â†’Â </code><code>(</code><code>)</code></div><div>
<p>
  Calls each Object's <code>MethodName</code> (or calls the Object if <code>MethodName == true</code>) and removes them from the Janitor. Also clears the namespace.
  This function is also called when you call a Janitor Object (so it can be used as a destructor callback).
</p>
<pre class="language-lua"><code class="language-lua">Obliterator<span class="token punctuation">:</span><span class="token function">Cleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Valid.</span>
<span class="token function">Obliterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">-- Also valid.</span>
</code></pre>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="Destroy"></a><code style="text-decoration:none">Destroy</code><a class="hash-link" href="#Destroy" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L241"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">Destroy</code><code>(</code><code>) â†’Â </code><code>(</code><code>)</code></div><div>
<p>Calls [[Janitor.Cleanup]] and renders the Janitor unusable.</p>
<div class="admonition admonition-warning alert alert--danger">
  <div class="admonition-heading">
    <h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16">
          <path d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path>
        </svg></span>warning</h5>
  </div>
  <div class="admonition-content">
    <p>Running this will make any attempts to call a function of Janitor error.</p>
  </div>
</div>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="Get"></a><code style="text-decoration:none">Get</code><a class="hash-link" href="#Get" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L186"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">Get</code><code>(</code><div class="inset_2cJr"><div><code>Index:Â </code><code class="blue_2Afy">any</code><span class="inlineDescription_17uy">-- <span>
<p>The index that the object is stored under.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">any?</code><span class="inlineDescription_17uy">-- <span>
<p>This will return the object if it is found, but it won't return anything if it doesn't exist.</p>
</span></span></div><div>
<p>Gets whatever object is stored with the given index, if it exists. This was added since Maid allows getting the task using <code>__index</code>.</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> Obliterator <span class="token operator">=</span> Janitor<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>workspace<span class="token punctuation">.</span>Baseplate<span class="token punctuation">,</span> <span class="token string">"Destroy"</span><span class="token punctuation">,</span> <span class="token string">"Baseplate"</span><span class="token punctuation">)</span>
<span class="token function">print</span><span class="token punctuation">(</span>Obliterator<span class="token punctuation">:</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">"Baseplate"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">-- Returns Baseplate.</span>
</code></pre>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="LinkToInstance"></a><code style="text-decoration:none">LinkToInstance</code><a class="hash-link" href="#LinkToInstance" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L305"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">LinkToInstance</code><code>(</code><div class="inset_2cJr"><div><code>Object:Â </code><code class="blue_2Afy">Instance</code><code>,</code><span class="inlineDescription_17uy">-- <span>
<p>The instance you want to link the Janitor to.</p>
</span></span></div><div><code>AllowMultiple?:Â </code><code class="blue_2Afy">boolean</code><span class="inlineDescription_17uy">-- <span>
<p>Whether or not to allow multiple links on the same Janitor.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">RbxScriptConnection</code><span class="inlineDescription_17uy">-- <span>
<p>A pseudo RBXScriptConnection that can be disconnected to prevent the cleanup of LinkToInstance.</p>
</span></span></div><div>
<p>
  "Links" this Janitor to an Instance, such that the Janitor will <code>Cleanup</code> when the Instance is <code>Destroyed()</code> and garbage collected.
  A Janitor may only be linked to one instance at a time, unless <code>AllowMultiple</code> is true. When called with a truthy <code>AllowMultiple</code> parameter,
  the Janitor will "link" the Instance without overwriting any previous links, and will also not be overwritable.
  When called with a falsy <code>AllowMultiple</code> parameter, the Janitor will overwrite the previous link which was also called with a falsy <code>AllowMultiple</code> parameter, if applicable.
</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> Obliterator <span class="token operator">=</span> Janitor<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"Cleaning up!"</span><span class="token punctuation">)</span>
<span class="token keyword">end</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span>

<span class="token keyword">do</span>
	<span class="token keyword">local</span> Folder <span class="token operator">=</span> Instance<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string">"Folder"</span><span class="token punctuation">)</span>
	Obliterator<span class="token punctuation">:</span><span class="token function">LinkToInstance</span><span class="token punctuation">(</span>Folder<span class="token punctuation">)</span>
	Folder<span class="token punctuation">:</span><span class="token function">Destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>
</code></pre>
<p>This returns a mock <code>RBXScriptConnection</code> (see: [[RbxScriptConnection]]).</p>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="LinkToInstances"></a><code style="text-decoration:none">LinkToInstances</code><a class="hash-link" href="#LinkToInstances" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L353"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">LinkToInstances</code><code>(</code><div class="inset_2cJr"><div><code>...:Â </code><code class="blue_2Afy">Instance</code><span class="inlineDescription_17uy">-- <span>
<p>All the Instances you want linked.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">Janitor</code><span class="inlineDescription_17uy">-- <span>
<p>A new Janitor that can be used to manually disconnect all LinkToInstances.</p>
</span></span></div><div>
<p>Links several instances to a new Janitor, which is then returned.</p>
</div><div class="divider_3z1R"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="Remove"></a><code style="text-decoration:none">Remove</code><a class="hash-link" href="#Remove" title="Direct link to heading">#</a></h3><div class="repositoryDetailsContainer_1UH0"><a class="sourceButton_2aE5" href="https://github.com/howmanysmall/Janitor/blob/master/src/init.lua#L145"><div class="sourceButtonText_monK">&lt;/&gt;</div></a></div><div class="memberString_P8-X"><code>Janitor:</code><code class="green_3LnD">Remove</code><code>(</code><div class="inset_2cJr"><div><code>Index:Â </code><code class="blue_2Afy">any</code><span class="inlineDescription_17uy">-- <span>
<p>The index you want to remove.</p>
</span></span></div></div><code>) â†’Â </code><code class="blue_2Afy">Janitor</code></div><div>
<p>Cleans up whatever <code>Object</code> was set to this namespace by the 3rd parameter of [[Janitor.Add]].</p>
<pre class="language-lua"><code class="language-lua"><span class="token keyword">local</span> Obliterator <span class="token operator">=</span> Janitor<span class="token punctuation">.</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Add</span><span class="token punctuation">(</span>workspace<span class="token punctuation">.</span>Baseplate<span class="token punctuation">,</span> <span class="token string">"Destroy"</span><span class="token punctuation">,</span> <span class="token string">"Baseplate"</span><span class="token punctuation">)</span>
Obliterator<span class="token punctuation">:</span><span class="token function">Remove</span><span class="token punctuation">(</span><span class="token string">"Baseplate"</span><span class="token punctuation">)</span>
</code></pre>
</div></div></article></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#types" class="table-of-contents__link">Types</a></li><li><a href="#properties" class="table-of-contents__link">Properties</a></li><li><a href="#functions" class="table-of-contents__link">Functions</a><ul><li><a href="#Is" class="table-of-contents__link">.Is</a></li><li><a href="#new" class="table-of-contents__link">.new</a></li><li><a href="#Add" class="table-of-contents__link">:Add</a></li><li><a href="#AddPromise" class="table-of-contents__link">:AddPromise</a></li><li><a href="#Cleanup" class="table-of-contents__link">:Cleanup</a></li><li><a href="#Destroy" class="table-of-contents__link">:Destroy</a></li><li><a href="#Get" class="table-of-contents__link">:Get</a></li><li><a href="#LinkToInstance" class="table-of-contents__link">:LinkToInstance</a></li><li><a href="#LinkToInstances" class="table-of-contents__link">:LinkToInstances</a></li><li><a href="#Remove" class="table-of-contents__link">:Remove</a></li></ul></li></ul></div></div></div><details><summary>Show raw api</summary><pre style="max-width:100%;white-space:pre-wrap">{
    &quot;functions&quot;: [
        {
            &quot;name&quot;: &quot;Is&quot;,
            &quot;desc&quot;: &quot;Determines if the passed object is a Janitor. This checks the metatable directly.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;Object&quot;,
                    &quot;desc&quot;: &quot;The object you are checking.&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;`true` iff `Object` is a Janitor.&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 42,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Add&quot;,
            &quot;desc&quot;: &quot;Adds an `Object` to Janitor for later cleanup, where `MethodName` is the key of the method within `Object` which should be called at cleanup time.\nIf the `MethodName` is `true` the `Object` itself will be called instead. If passed an index it will occupy a namespace which can be `Remove()`d or overwritten.\nReturns the `Object`.\n\n:::info\nObjects not given an explicit `MethodName` will be passed into the `typeof` function for a very naive typecheck.\nRBXConnections will be assigned to \&quot;Disconnect\&quot;, functions will be assigned to `true`, and everything else will default to \&quot;Destroy\&quot;.\nNot recommended, but hey, you do you.\n:::\n\n```lua\nlocal Obliterator = Janitor.new()\n\n-- Queue the Part to be Destroyed at Cleanup time\nObliterator:Add(workspace.Part, \&quot;Destroy\&quot;)\n\n-- Queue function to be called with `true` MethodName\nObliterator:Add(print, true)\n\n-- This implementation allows you to specify behavior for any object\nObliterator:Add(Tween.new(0.5, 0, print), \&quot;Stop\&quot;)\n\n-- By passing an Index, the Object will occupy a namespace\n-- If \&quot;CurrentTween\&quot; already exists, it will call :Remove(\&quot;CurrentTween\&quot;) before writing\nObliterator:Add(Tween.new(0.5, 0, print), \&quot;Stop\&quot;, \&quot;CurrentTween\&quot;)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;Object&quot;,
                    &quot;desc&quot;: &quot;The object you want to clean up.&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                },
                {
                    &quot;name&quot;: &quot;MethodName?&quot;,
                    &quot;desc&quot;: &quot;The name of the method that will be used to clean up. If not passed, it will first check if the object&#x27;s type exists in TypeDefaults, and if that doesn&#x27;t exist, it assumes `Destroy`.&quot;,
                    &quot;lua_type&quot;: &quot;string|true&quot;
                },
                {
                    &quot;name&quot;: &quot;Index?&quot;,
                    &quot;desc&quot;: &quot;The index that can be used to clean up the object manually.&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;The object that was passed as the first argument.&quot;,
                    &quot;lua_type&quot;: &quot;T&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 79,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;AddPromise&quot;,
            &quot;desc&quot;: &quot;Adds a [Promise](https://github.com/evaera/roblox-lua-promise) to the Janitor. If the Janitor is cleaned up and the Promise is not completed, the Promise will be cancelled.\n\n```lua\nlocal Obliterator = Janitor.new()\nObliterator:AddPromise(Promise.delay(3)):andThenCall(print, \&quot;Finished!\&quot;):catch(warn)\ntask.wait(1)\nObliterator:Cleanup()\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;PromiseObject&quot;,
                    &quot;desc&quot;: &quot;The promise you want to add to the Janitor.&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Promise&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 114,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Remove&quot;,
            &quot;desc&quot;: &quot;Cleans up whatever `Object` was set to this namespace by the 3rd parameter of [[Janitor.Add]].\n\n```lua\nlocal Obliterator = Janitor.new()\nObliterator:Add(workspace.Baseplate, \&quot;Destroy\&quot;, \&quot;Baseplate\&quot;)\nObliterator:Remove(\&quot;Baseplate\&quot;)\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;Index&quot;,
                    &quot;desc&quot;: &quot;The index you want to remove.&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Janitor&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 145,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Get&quot;,
            &quot;desc&quot;: &quot;Gets whatever object is stored with the given index, if it exists. This was added since Maid allows getting the task using `__index`.\n\n```lua\nlocal Obliterator = Janitor.new()\nObliterator:Add(workspace.Baseplate, \&quot;Destroy\&quot;, \&quot;Baseplate\&quot;)\nprint(Obliterator:Get(\&quot;Baseplate\&quot;)) -- Returns Baseplate.\n```&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;Index&quot;,
                    &quot;desc&quot;: &quot;The index that the object is stored under.&quot;,
                    &quot;lua_type&quot;: &quot;any&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;This will return the object if it is found, but it won&#x27;t return anything if it doesn&#x27;t exist.&quot;,
                    &quot;lua_type&quot;: &quot;any?&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 186,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Cleanup&quot;,
            &quot;desc&quot;: &quot;Calls each Object&#x27;s `MethodName` (or calls the Object if `MethodName == true`) and removes them from the Janitor. Also clears the namespace.\nThis function is also called when you call a Janitor Object (so it can be used as a destructor callback).\n\n```lua\nObliterator:Cleanup() -- Valid.\nObliterator() -- Also valid.\n```&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 204,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;Destroy&quot;,
            &quot;desc&quot;: &quot;Calls [[Janitor.Cleanup]] and renders the Janitor unusable.\n\n:::warning\nRunning this will make any attempts to call a function of Janitor error.\n:::&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 241,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;LinkToInstance&quot;,
            &quot;desc&quot;: &quot;\&quot;Links\&quot; this Janitor to an Instance, such that the Janitor will `Cleanup` when the Instance is `Destroyed()` and garbage collected.\nA Janitor may only be linked to one instance at a time, unless `AllowMultiple` is true. When called with a truthy `AllowMultiple` parameter,\nthe Janitor will \&quot;link\&quot; the Instance without overwriting any previous links, and will also not be overwritable.\nWhen called with a falsy `AllowMultiple` parameter, the Janitor will overwrite the previous link which was also called with a falsy `AllowMultiple` parameter, if applicable.\n\n```lua\nlocal Obliterator = Janitor.new()\n\nObliterator:Add(function()\n\tprint(\&quot;Cleaning up!\&quot;)\nend, true)\n\ndo\n\tlocal Folder = Instance.new(\&quot;Folder\&quot;)\n\tObliterator:LinkToInstance(Folder)\n\tFolder:Destroy()\nend\n```\n\nThis returns a mock `RBXScriptConnection` (see: [[RbxScriptConnection]]).&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;Object&quot;,
                    &quot;desc&quot;: &quot;The instance you want to link the Janitor to.&quot;,
                    &quot;lua_type&quot;: &quot;Instance&quot;
                },
                {
                    &quot;name&quot;: &quot;AllowMultiple?&quot;,
                    &quot;desc&quot;: &quot;Whether or not to allow multiple links on the same Janitor.&quot;,
                    &quot;lua_type&quot;: &quot;boolean&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;A pseudo RBXScriptConnection that can be disconnected to prevent the cleanup of LinkToInstance.&quot;,
                    &quot;lua_type&quot;: &quot;RbxScriptConnection&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 305,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;LinkToInstances&quot;,
            &quot;desc&quot;: &quot;Links several instances to a new Janitor, which is then returned.&quot;,
            &quot;params&quot;: [
                {
                    &quot;name&quot;: &quot;...&quot;,
                    &quot;desc&quot;: &quot;All the Instances you want linked.&quot;,
                    &quot;lua_type&quot;: &quot;Instance&quot;
                }
            ],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;A new Janitor that can be used to manually disconnect all LinkToInstances.&quot;,
                    &quot;lua_type&quot;: &quot;Janitor&quot;
                }
            ],
            &quot;function_type&quot;: &quot;method&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 353,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        },
        {
            &quot;name&quot;: &quot;new&quot;,
            &quot;desc&quot;: &quot;Instantiates a new Janitor object.&quot;,
            &quot;params&quot;: [],
            &quot;returns&quot;: [
                {
                    &quot;desc&quot;: &quot;&quot;,
                    &quot;lua_type&quot;: &quot;Janitor&quot;
                }
            ],
            &quot;function_type&quot;: &quot;static&quot;,
            &quot;source&quot;: {
                &quot;line&quot;: 366,
                &quot;path&quot;: &quot;src/init.lua&quot;
            }
        }
    ],
    &quot;properties&quot;: [],
    &quot;types&quot;: [],
    &quot;name&quot;: &quot;Janitor&quot;,
    &quot;desc&quot;: &quot;Janitor is a light-weight, flexible object for cleaning up connections, instances, or anything. This implementation covers all use cases,\nas it doesn&#x27;t force you to rely on naive typechecking to guess how an instance should be cleaned up.\nInstead, the developer may specify any behavior for any object.&quot;,
    &quot;source&quot;: {
        &quot;line&quot;: 25,
        &quot;path&quot;: &quot;src/init.lua&quot;
    }
}</pre></details></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 howmanysmall. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/Janitor/assets/js/runtime~main.04ce190d.js"></script>
<script src="/Janitor/assets/js/main.956e1b5a.js"></script>
</body>
</html>